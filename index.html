<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GeoGames Game GeoDash</title>
<style>
body{margin:0;overflow:hidden;background:#111;font-family:Arial;}
canvas{display:block;}
#ui{position:absolute;top:10px;left:50%;transform:translateX(-50%);color:white;font-size:20px;}
#menu{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:white;text-align:center;}
button{padding:10px 20px;margin:10px;font-size:18px;}
</style>
</head>
<body>

<div id="ui">0%</div>
<div id="menu">
<h1>GEOMETRY DASH HTML</h1>
<button onclick="startLevel(0)">Easy</button>
<button onclick="startLevel(50)">Medium</button>
<button onclick="startLevel(150)">Hard</button>
<button onclick="practice=!practice">Practice Mode</button>
</div>
<canvas id="game"></canvas>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

window.onresize=()=>{canvas.width=window.innerWidth; canvas.height=window.innerHeight;}

let player={x:150,y:300,w:35,h:35,dy:0,rot:0,gravity:1,jumps:999};
let playerMode="cube"; // cube, ship, wave, ufo, ball
let holding=false;
let obstacles=[],portals=[],pads=[],orbs=[],spikes=[],particles=[];
let cameraX=0,levelLength=9000,attempts=0,practice=false;
let menu=document.getElementById("menu");
let ui=document.getElementById("ui");
let percent=0;

// Generate level with obstacles, portals, orbs, spikes, pads
function generateLevel(diff){
obstacles=[];portals=[];pads=[];orbs=[];spikes=[];
for(let i=400;i<levelLength;i+=Math.random()*200+150){
let h=40+Math.random()*80;
obstacles.push({x:i,y:canvas.height-h,w:28,h:h});
if(Math.random()<0.3)pads.push({x:i+60,y:canvas.height-20,w:30,h:10});
if(Math.random()<0.2)portals.push({x:i+100,y:canvas.height-120,type:["cube","ship","wave","ufo","ball"][Math.floor(Math.random()*5)]});
if(Math.random()<0.2)orbs.push({x:i+80,y:canvas.height-150,type:["yellow","blue","pink"][Math.floor(Math.random()*3)]});
if(Math.random()<0.3)spikes.push({x:i+Math.random()*40,y:canvas.height-20,w:20,h:20});
}
}

// Start level
function startLevel(diff){
menu.style.display="none";
generateLevel(diff);
player.x=150;player.y=300;player.dy=0;player.jumps=999;
playerMode="cube";cameraX=0;attempts=0;practice=false;
}

// Controls
document.addEventListener("keydown",e=>{if(e.code==="Space")holding=true;});
document.addEventListener("keyup",e=>{if(e.code==="Space")holding=false;});

// Respawn on death
function die(){
if(!practice)attempts++;
player.x=150;player.y=300;player.dy=0;cameraX=0;
}

// Physics
function update(){
switch(playerMode){
case "cube":player.dy+=0.6*player.gravity;if(holding && player.y+player.h>=canvas.height)player.dy=-12*player.gravity;player.rot+=0.1;break;
case "ship":player.dy+=(holding?-0.5:0.5);break;
case "wave":player.y+=holding?-6:6;break;
case "ufo":player.dy+=0.6;if(holding){player.dy=-10;holding=false;}break;
case "ball":player.dy+=0.6*player.gravity;if(holding){player.gravity*=-1;holding=false;}break;
}
player.y+=player.dy;

// Collisions
for(let o of obstacles){
if(player.x+player.w>o.x-cameraX && player.x<o.x+o.w-cameraX && player.y+player.h>o.y){
die();
}
}
for(let p of pads){
if(player.x+player.w>p.x-cameraX && player.x<p.x+p.w-cameraX && player.y+player.h>=p.y){
player.dy=-15;
}
}
for(let s of spikes){
if(player.x+player.w>s.x-cameraX && player.x<s.x+s.w-cameraX && player.y+player.h>s.y){
die();
}
}
for(let o of orbs){
if(player.x+player.w>o.x-cameraX && player.x<o.x+30-cameraX && player.y+player.h>o.y && player.y<o.y+30){
switch(o.type){
case "yellow":player.dy=-18;break;
case "blue":player.gravity*=-1;break;
case "pink":player.dy=-25;break;
}
}
}
for(let po of portals){
if(player.x+player.w>po.x-cameraX && player.x<po.x+40-cameraX){
playerMode=po.type;
}
}

// Ground
if(player.y+player.h>=canvas.height){player.y=canvas.height-player.h;player.dy=0;player.jumps=999;}
cameraX+=6;
percent=Math.floor(cameraX/levelLength*100);
ui.innerText=percent+"% Attempts:"+attempts;
if(percent>=100){generateLevel(0);cameraX=0;}
}

// Draw
function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="#0ff";ctx.save();ctx.translate(player.x+player.w/2,player.y+player.h/2);ctx.rotate(player.rot);ctx.fillRect(-player.w/2,-player.h/2,player.w,player.h);ctx.restore();
ctx.fillStyle="red";for(let o of obstacles)ctx.fillRect(o.x-cameraX,o.y,o.w,o.h);
ctx.fillStyle="blue";for(let p of pads)ctx.fillRect(p.x-cameraX,p.y,p.w,p.h);
ctx.fillStyle="purple";for(let po of portals)ctx.fillRect(po.x-cameraX,po.y,40,80);
ctx.fillStyle="yellow";for(let o of orbs)ctx.beginPath(),ctx.arc(o.x-cameraX,o.y,10,0,Math.PI*2),ctx.fill();
ctx.fillStyle="white";for(let s of spikes)ctx.fillRect(s.x-cameraX,s.y,s.w,s.h);
}

// Loop
function loop(){update();draw();requestAnimationFrame(loop);}
loop();
</script>

</body>
</html>
